{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\s044\\\\Documents\\\\revel-market-backend\\\\src\\\\views\\\\User\\\\view.js\";\nimport React, { Component } from 'react';\nimport { Card, CardHeader, Col, Row, CardBody, Table, Button } from 'reactstrap';\nimport { NavLink, Link } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport UserModel from '../../models/UserModel';\nvar user_model = new UserModel();\n\nclass UserView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user_list: [],\n      user_login: JSON.parse(localStorage.getItem('user_login'))\n    };\n  }\n\n  async componentDidMount() {\n    var user_list = await user_model.getUserBy();\n    var user_list_ = user_list.data.filter(val => val.user_code == this.state.user_login.user_code);\n    this.setState({\n      user_list: user_list_\n    });\n  }\n\n  async onDelete(code) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Are you sure you want to delete this item?\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        user_model.deleteUserBycode(code).then(res => {\n          if (res.query_result == true) {\n            swal(\"Delete success!\", {\n              icon: \"success\"\n            });\n            this.componentDidMount();\n          } else {\n            swal({\n              title: \"Error!\",\n              text: \" Error Delete \",\n              icon: \"error\",\n              button: \"Close\"\n            });\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    const user_list = this.state.user_list;\n    return React.createElement(\"div\", {\n      className: \"animated fadeIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1E\\u0E19\\u0E31\\u0E01\\u0E07\\u0E32\\u0E19 / User Management\", React.createElement(NavLink, {\n      exact: true,\n      to: \"/user/insert/\",\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      class: \"btn btn-primary btn-lg float-right boottom-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), \" Add\"))), React.createElement(CardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"\\u0E25\\u0E33\\u0E14\\u0E31\\u0E1A\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"\\u0E23\\u0E2B\\u0E31\\u0E2A\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E4C\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, user_list.map((item, idx) => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, idx + 1), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, item.user_code), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, item.user_name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, item.user_tel), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, item.user_email), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      exact: true,\n      to: \"/user/update/\" + item.user_code,\n      style: {\n        color: '#337ab7'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-pencil-square-o\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(Button, {\n      hidden: true,\n      type: \"button\",\n      size: \"sm\",\n      color: \"link\",\n      style: {\n        color: 'red'\n      },\n      onClick: () => this.onDelete(item.user_code),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-times\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })))))))))))));\n  }\n\n}\n\nexport default UserView;","map":{"version":3,"sources":["C:/Users/s044/Documents/revel-market-backend/src/views/User/view.js"],"names":["React","Component","Card","CardHeader","Col","Row","CardBody","Table","Button","NavLink","Link","swal","UserModel","user_model","UserView","constructor","props","state","user_list","user_login","JSON","parse","localStorage","getItem","componentDidMount","getUserBy","user_list_","data","filter","val","user_code","setState","onDelete","code","title","text","icon","buttons","dangerMode","then","willDelete","deleteUserBycode","res","query_result","button","render","width","map","item","idx","user_name","user_tel","user_email","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Card, CardHeader, Col, Row, CardBody, Table, Button } from 'reactstrap';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport swal from 'sweetalert';\r\n\r\n\r\nimport UserModel from '../../models/UserModel';\r\nvar user_model = new UserModel;\r\n\r\n\r\nclass UserView extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      user_list: [],\r\n      user_login: JSON.parse(localStorage.getItem('user_login'))\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    var user_list = await user_model.getUserBy();\r\n    var user_list_ = user_list.data.filter(val=>val.user_code == this.state.user_login.user_code)\r\n    this.setState({\r\n      user_list: user_list_\r\n    })\r\n  }\r\n  async onDelete(code) {\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"Are you sure you want to delete this item?\",\r\n      icon: \"warning\",\r\n      buttons: true,\r\n      dangerMode: true,\r\n    })\r\n      .then((willDelete) => {\r\n        if (willDelete) {\r\n          user_model.deleteUserBycode(code).then((res) => {\r\n            if (res.query_result == true) {\r\n              swal(\"Delete success!\", {\r\n                icon: \"success\",\r\n              });\r\n              this.componentDidMount()\r\n            } else {\r\n              swal({\r\n                title: \"Error!\",\r\n                text: \" Error Delete \",\r\n                icon: \"error\",\r\n                button: \"Close\",\r\n              });\r\n            }\r\n          })\r\n        }\r\n      });\r\n  }\r\n  render() {\r\n    const { user_list } = this.state;\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                จัดการพนักงาน / User Management\r\n                <NavLink exact to={`/user/insert/`} style={{ width: '100%' }}>\r\n                  <button class=\"btn btn-primary btn-lg float-right boottom-header\"><i class=\"fa fa-plus\"></i> Add</button>\r\n                </NavLink>\r\n\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th >ลำดับ</th>\r\n                      <th >รหัส</th>\r\n                      <th >ชื่อ</th>\r\n                      <th >โทรศัพท์</th>\r\n                      <th >อีเมล์</th>\r\n                      <th></th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {user_list.map((item, idx) => (\r\n                      <tr>\r\n                        <td >{(idx + 1)}</td>\r\n                        <td >{item.user_code}</td>\r\n                        <td >{item.user_name}</td>\r\n                        <td >{item.user_tel}</td>\r\n                        <td >{item.user_email}</td>\r\n                        <td>\r\n                          <div>\r\n                            <NavLink exact to={`/user/update/` + item.user_code} style={{ color: '#337ab7' }}>\r\n                              <i class=\"fa fa-pencil-square-o\" ></i>\r\n                            </NavLink>\r\n                            <Button hidden type=\"button\" size=\"sm\" color=\"link\" style={{ color: 'red' }}\r\n                              onClick={() => this.onDelete(item.user_code)}   >\r\n                              <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n                            </Button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n\r\n                  </tbody>\r\n                </Table>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default UserView;\r\n\r\n"]},"metadata":{},"sourceType":"module"}