{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\s044\\\\Documents\\\\revel-market-backend\\\\src\\\\views\\\\Shop\\\\view.js\";\nimport React, { Component } from 'react';\nimport { Card, CardHeader, Col, Row, CardBody, Table, Button } from 'reactstrap';\nimport { NavLink, Link } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport ShopModel from '../../models/ShopModel';\nvar shop_model = new ShopModel();\n\nclass ShopView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shop_list: []\n    };\n  }\n\n  async componentDidMount() {\n    const shop_list = await shop_model.getShopBy({\n      keyword: ''\n    });\n    console.log(shop_list);\n    this.setState({\n      shop_list: shop_list.data\n    });\n  }\n\n  async onDelete(code) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Are you sure you want to delete this item?\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        shop_model.deleteShopByShopCode({\n          shop_code: code\n        }).then(res => {\n          swal(\"success deleted!\", {\n            icon: \"success\"\n          });\n          this.componentDidMount();\n        });\n      }\n    });\n  }\n\n  render() {\n    const shop_list = this.state.shop_list;\n    console.log('shop_list', shop_list);\n    return React.createElement(\"div\", {\n      className: \"animated fadeIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E23\\u0E49\\u0E32\\u0E19 / Shop Management\", React.createElement(NavLink, {\n      exact: true,\n      to: \"/shop/insert/\",\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      class: \"btn btn-primary btn-lg float-right boottom-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), \" Add\"))), React.createElement(CardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\u0E25\\u0E33\\u0E14\\u0E31\\u0E1A\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"\\u0E23\\u0E2B\\u0E31\\u0E2A\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, shop_list.map((item, idx) => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, idx + 1), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, item.shop_code), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, item.shop_name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, item.shop_tel), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      exact: true,\n      to: \"/shop/update/\" + item.shop_code,\n      style: {\n        color: '#337ab7'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-pencil-square-o\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"button\",\n      size: \"sm\",\n      color: \"link\",\n      style: {\n        color: 'red'\n      },\n      onClick: () => this.onDelete(item.shop_code),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-times\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })))))))))))));\n  }\n\n}\n\nexport default ShopView;","map":{"version":3,"sources":["C:/Users/s044/Documents/revel-market-backend/src/views/Shop/view.js"],"names":["React","Component","Card","CardHeader","Col","Row","CardBody","Table","Button","NavLink","Link","swal","ShopModel","shop_model","ShopView","constructor","props","state","shop_list","componentDidMount","getShopBy","keyword","console","log","setState","data","onDelete","code","title","text","icon","buttons","dangerMode","then","willDelete","deleteShopByShopCode","shop_code","res","render","width","map","item","idx","shop_name","shop_tel","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Card, CardHeader, Col, Row, CardBody, Table, Button } from 'reactstrap';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport swal from 'sweetalert';\r\n\r\n\r\nimport ShopModel from '../../models/ShopModel';\r\nvar shop_model = new ShopModel;\r\n\r\n\r\nclass ShopView extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      shop_list: []\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const shop_list = await shop_model.getShopBy({keyword:''});\r\n    console.log(shop_list);\r\n    this.setState({\r\n      shop_list: shop_list.data\r\n    })\r\n  }\r\n\r\n  async onDelete(code) {\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"Are you sure you want to delete this item?\",\r\n      icon: \"warning\",\r\n      buttons: true,\r\n      dangerMode: true,\r\n    })\r\n      .then((willDelete) => {\r\n        if (willDelete) {\r\n          shop_model.deleteShopByShopCode({ shop_code: code }).then((res) => {\r\n            swal(\"success deleted!\", {\r\n              icon: \"success\",\r\n            });\r\n            this.componentDidMount()\r\n          })\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { shop_list } = this.state;\r\n    console.log('shop_list', shop_list);\r\n\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                จัดการร้าน / Shop Management\r\n                <NavLink exact to={`/shop/insert/`} style={{ width: '100%' }}>\r\n                  <button class=\"btn btn-primary btn-lg float-right boottom-header\"><i class=\"fa fa-plus\"></i> Add</button>\r\n                </NavLink>\r\n\r\n              </CardHeader>\r\n              <CardBody>\r\n\r\n                <Table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th >ลำดับ</th>\r\n                      <th >รหัส</th>\r\n                      <th >ชื่อ</th>\r\n                      <th >โทรศัพท์</th>\r\n                      {/* <th >อีเมล์</th> */}\r\n                      <th></th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {shop_list.map((item, idx) => (\r\n                      <tr>\r\n                        <td >{(idx + 1)}</td>\r\n                        <td >{item.shop_code}</td>\r\n                        <td >{item.shop_name}</td>\r\n                        <td >{item.shop_tel}</td>\r\n                        {/* <td >{item.shop_detail}</td> */}\r\n                        <td>\r\n                          <div>\r\n                            <NavLink exact to={`/shop/update/` + item.shop_code} style={{ color: '#337ab7' }}>\r\n                              <i class=\"fa fa-pencil-square-o\" ></i>\r\n                            </NavLink>\r\n                            <Button type=\"button\" size=\"sm\" color=\"link\" style={{ color: 'red' }}\r\n                              onClick={() => this.onDelete(item.shop_code)}   >\r\n                              <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n                            </Button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n\r\n                  </tbody>\r\n                </Table>\r\n\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default (ShopView);\r\n\r\n"]},"metadata":{},"sourceType":"module"}